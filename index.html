
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Yes to Nails - Service Calculator</title>



<!-- Supabase Script for GitHub Pages -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.5/dist/umd/supabase.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', async function () {
  const supabase = window.supabase.createClient(
    'https://fyphrauehrmotfderfey.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzIiwicmVmIjoiZnlwaHJhdWVocm1vdGZkZXJmZXkiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTc0ODI3NzIyMiwiZXhwIjoyMDYzODUzMjIyfQ.OwrKxqDPYPcBl6D4tsfXlKNIcUlwdmCBb1CaAVUy-K0'
  );

  window.supabase = supabase;
  window.services = [];
  window.bookings = [];
  window.bookedTimeSlots = {};
  window.businessHours = {};
  window.emailSettings = {};

  if (typeof detectEnvironment === "function") detectEnvironment();
  if (typeof initializeEmailJS === "function") initializeEmailJS();
  if (typeof loadAllFromSupabase === "function") await loadAllFromSupabase();
  if (typeof updateCart === "function") updateCart();
  if (typeof displayLogo === "function") displayLogo();

  const today = new Date().toISOString().split('T')[0];
  const bookingInput = document.getElementById('bookingDate');
  if (bookingInput) bookingInput.min = today;

  const logoUpload = document.getElementById('logoUpload');
  if (logoUpload) {
    logoUpload.addEventListener('change', function (event) {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          const preview = document.getElementById('logoPreview');
          if (preview) preview.innerHTML = `<img src="\${e.target.result}" alt="Logo Preview" style="max-width: 100%; max-height: 100px;">`;
        };
        reader.readAsDataURL(file);
      }
    });
  }
});
</script>

</body>
</html>
